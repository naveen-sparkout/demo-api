{"version":3,"sources":["../../src/config/morgan.js"],"names":["morgan","token","res","user","userType","_id","name","morganChalk","tokens","req","chalk","green","bold","date","blue","yellow","method","url","red","status","join"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;AACAA,mBAAOC,KAAP,CAAa,aAAb,EAA4B,gBAASC,GAAT,EAAiB;AAAA,MAAfC,IAAe,QAAfA,IAAe;;AACzC,MAAIA,IAAJ,EAAU;AACN,QAAIA,IAAI,CAACC,QAAL,KAAkB,MAAtB,EAA8B;AAC1B,gCAAmBD,IAAI,CAACE,GAAxB,qBAAsCF,IAAI,CAACG,IAA3C;AACH,KAFD,MAEO,IAAIH,IAAI,CAACC,QAAL,KAAkB,QAAtB,EAAgC;AACnC,kCAAqBD,IAAI,CAACE,GAA1B,qBAAwCF,IAAI,CAACG,IAA7C;AACH,KAFM,MAEA,IAAIH,IAAI,CAACC,QAAL,KAAkB,OAAlB,IAA6BD,IAAI,CAACC,QAAL,KAAkB,UAAnD,EAA+D;AAClE,iCAAoBD,IAAI,CAACE,GAAzB,qBAAuCF,IAAI,CAACG,IAA5C;AACH;AACJ,GARD,MAQO;AACH,WAAO,OAAP;AACH;AACJ,CAZD,E,CAcA;;;AACA,IAAMC,WAAW,GAAG,wBAAO,UAACC,MAAD,EAASC,GAAT,EAAcP,GAAd;AAAA,SAAsB,CAC7CQ,kBAAMC,KAAN,CAAYC,IAAZ,CAAiBJ,MAAM,CAACK,IAAP,CAAYJ,GAAZ,EAAiBP,GAAjB,EAAsB,KAAtB,CAAjB,CAD6C,EAE7CQ,kBAAMI,IAAN,CAAWF,IAAX,CAAgBJ,MAAM,CAAC,aAAD,CAAN,CAAsBC,GAAtB,EAA2BP,GAA3B,CAAhB,CAF6C,EAG7CQ,kBAAMK,MAAN,CAAaH,IAAb,CAAkBJ,MAAM,CAAC,aAAD,CAAN,CAAsBC,GAAtB,EAA2BP,GAA3B,CAAlB,CAH6C,EAI7CQ,kBAAMC,KAAN,CAAYC,IAAZ,CAAiBJ,MAAM,CAACQ,MAAP,CAAcP,GAAd,EAAmBP,GAAnB,CAAjB,CAJ6C,EAK7CQ,kBAAMI,IAAN,CAAWF,IAAX,CAAgBJ,MAAM,CAACS,GAAP,CAAWR,GAAX,EAAgBP,GAAhB,CAAhB,CAL6C,EAM7CQ,kBAAMQ,GAAN,CAAUN,IAAV,CAAeJ,MAAM,CAACW,MAAP,CAAcV,GAAd,EAAmBP,GAAnB,CAAf,CAN6C,EAO7CQ,kBAAMI,IAAN,CAAWF,IAAX,CAAgBJ,MAAM,CAACN,GAAP,CAAWO,GAAX,EAAgBP,GAAhB,EAAqB,gBAArB,CAAhB,CAP6C,EAQ7CQ,kBAAMK,MAAN,CAAaH,IAAb,WAAqBJ,MAAM,CAAC,eAAD,CAAN,CAAwBC,GAAxB,EAA6BP,GAA7B,CAArB,SAR6C,EAS/CkB,IAT+C,CAS1C,GAT0C,CAAtB;AAAA,CAAP,CAApB;eAWe;AACXb,EAAAA,WAAW,EAAXA;AADW,C","sourcesContent":["import morgan from 'morgan';\r\nimport chalk from 'chalk';\r\n\r\n// Setup Console Logging\r\nmorgan.token('remote-user', ({user}, res) => {\r\n    if (user) {\r\n        if (user.userType === 'user') {\r\n            return `{userId: ${user._id} &name: ${user.name}}`;\r\n        } else if (user.userType === 'driver') {\r\n            return `{driverId: ${user._id} &name: ${user.name}}`;\r\n        } else if (user.userType === 'Admin' || user.userType === 'SubAdmin') {\r\n            return `{adminId: ${user._id} &name: ${user.name}}`;\r\n        }\r\n    } else {\r\n        return 'Guest';\r\n    }\r\n});\r\n\r\n// app.use(logger(':date[iso] :clientIP :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms'));\r\nconst morganChalk = morgan((tokens, req, res) => [\r\n    chalk.green.bold(tokens.date(req, res, 'iso')),\r\n    chalk.blue.bold(tokens['remote-addr'](req, res)),\r\n    chalk.yellow.bold(tokens['remote-user'](req, res)),\r\n    chalk.green.bold(tokens.method(req, res)),\r\n    chalk.blue.bold(tokens.url(req, res)),\r\n    chalk.red.bold(tokens.status(req, res)),\r\n    chalk.blue.bold(tokens.res(req, res, 'content-length')),\r\n    chalk.yellow.bold(`${tokens['response-time'](req, res)} ms`),\r\n].join(' '));\r\n\r\nexport default {\r\n    morganChalk\r\n};"],"file":"morgan.js"}